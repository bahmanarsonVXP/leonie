# ==============================================================================
# LÉONIE - Configuration Environment Variables
# ==============================================================================
# Copier ce fichier en .env et remplir les valeurs réelles
# Ne JAMAIS committer le fichier .env dans Git !
# ==============================================================================

# ==============================================================================
# APPLICATION
# ==============================================================================

APP_NAME=Léonie
APP_VERSION=0.1.0
ENVIRONMENT=development
# Options: development, staging, production

DEBUG=true
# Activer le mode debug (true/false)

LOG_LEVEL=INFO
# Niveau de log: DEBUG, INFO, WARNING, ERROR, CRITICAL

# ==============================================================================
# SUPABASE
# ==============================================================================

SUPABASE_URL=https://xxxxxxxxxxxxx.supabase.co
# URL de votre projet Supabase (visible dans Project Settings)

SUPABASE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
# Clé API Supabase (anon key ou service_role key)
# Visible dans Project Settings > API

SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
# Clé service_role pour opérations admin (optionnel)
# À utiliser avec précaution : bypasse RLS !

# ==============================================================================
# REDIS & WORKERS
# ==============================================================================

REDIS_URL=redis://localhost:6379/0
# URL de connexion Redis (local ou distant)
# Format: redis://[username:password@]host:port/database
# Exemple Railway: redis://default:password@redis.railway.internal:6379

# ==============================================================================
# EMAIL IMAP (Réception)
# ==============================================================================

IMAP_HOST=imap.gmail.com
# Serveur IMAP

IMAP_PORT=993
# Port IMAP (993 pour SSL)

IMAP_EMAIL=leonie@voxperience.com
# Email du compte IMAP (alias Gmail)

IMAP_PASSWORD=xxxx xxxx xxxx xxxx
# Mot de passe ou App Password Gmail
# Pour Gmail: créer un App Password dans Compte Google > Sécurité

IMAP_LABEL=LEONIE
# Label Gmail où arrivent les emails pour Léonie
# Créer ce label dans Gmail et configurer un filtre pour y router les emails
# Exemple de filtre Gmail: "to:leonie@voxperience.com" → Appliquer le label "LEONIE"

EMAIL_POLLING_INTERVAL=300
# Intervalle de polling en secondes (300 = 5 minutes)

# ==============================================================================
# EMAIL SMTP (Envoi notifications)
# ==============================================================================

SMTP_HOST=smtp.gmail.com
# Serveur SMTP

SMTP_PORT=587
# Port SMTP (587 pour STARTTLS)

SMTP_EMAIL=leonie@voxperience.com
# Email d'envoi des notifications

SMTP_PASSWORD=xxxx xxxx xxxx xxxx
# Mot de passe SMTP (peut être le même que IMAP_PASSWORD)

SMTP_FROM_NAME=Léonie
# Nom affiché comme expéditeur

# ==============================================================================
# MISTRAL AI
# ==============================================================================

MISTRAL_API_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# Clé API Mistral AI
# Obtenir sur: https://console.mistral.ai/

MISTRAL_MODEL_CHAT=mistral-large-latest
# Modèle pour classification emails: mistral-large-latest (recommandé), mistral-medium

MISTRAL_MODEL_VISION=pixtral-large-latest
# Modèle pour analyse documents (avec vision): pixtral-large-latest

MISTRAL_MAX_TOKENS=2000
# Nombre maximum de tokens par requête

MISTRAL_TEMPERATURE=0.1
# Température (0-1): 0.1 = précision maximale (recommandé), 1.0 = créatif

# ==============================================================================
# GOOGLE DRIVE
# ==============================================================================

GOOGLE_CREDENTIALS_FILE=service-account.json
# Chemin vers le fichier JSON du Service Account Google
# Créer un Service Account sur: https://console.cloud.google.com/
# API à activer: Google Drive API

GDRIVE_ROOT_FOLDER_ID=
# ID du dossier racine Google Drive (optionnel)
# Format: 1a2b3c4d5e6f7g8h9i0j
# Laisser vide pour créer à la racine

# ==============================================================================
# DOCUMENTS & FILES
# ==============================================================================

MAX_ATTACHMENT_SIZE_MB=25
# Taille max des pièces jointes en MB

ALLOWED_EXTENSIONS=pdf,jpg,jpeg,png,doc,docx,xls,xlsx
# Extensions de fichiers autorisées (séparées par virgules)

UPLOAD_TEMP_DIR=/tmp/leonie
# Dossier temporaire pour uploads et traitement

# ==============================================================================
# RAPPORTS
# ==============================================================================

RAPPORT_QUOTIDIEN_HEURE=08:00
# Heure d'envoi du rapport quotidien (format HH:MM)

RAPPORT_TEMPLATE_PATH=templates/rapport_template.docx
# Chemin vers le template Word des rapports

# ==============================================================================
# SÉCURITÉ & API
# ==============================================================================

API_SECRET_KEY=changeme-votre-cle-secrete-super-longue-et-aleatoire-123456789
# Clé secrète pour JWT et signing
# Générer avec: openssl rand -hex 32

API_ADMIN_TOKEN=changeme-token-admin-super-secret
# Token d'admin pour endpoints protégés (optionnel)
# Utilisé pour authentifier les appels admin sans JWT

CORS_ORIGINS=*
# Origines CORS autorisées (séparées par virgules)
# Exemples: https://app.exemple.com,https://admin.exemple.com
# Utiliser * pour autoriser toutes les origines (développement seulement)

# ==============================================================================
# NOTES
# ==============================================================================
#
# 1. Pour Gmail:
#    - Activer l'authentification à 2 facteurs
#    - Créer un "App Password" dans Compte Google > Sécurité
#    - Utiliser cet App Password pour IMAP_PASSWORD et SMTP_PASSWORD
#
# 2. Pour Google Drive Service Account:
#    - Créer un projet sur Google Cloud Console
#    - Activer l'API Google Drive
#    - Créer un Service Account
#    - Télécharger le fichier JSON des credentials
#    - Partager les dossiers Drive avec l'email du Service Account
#
# 3. Pour Supabase:
#    - Créer un projet sur https://supabase.com
#    - Exécuter le fichier schema.sql dans l'éditeur SQL
#    - Récupérer les clés API dans Project Settings > API
#
# 4. Pour Redis (local):
#    - Installer Redis: brew install redis (macOS) ou apt-get install redis (Linux)
#    - Démarrer Redis: redis-server
#
# 5. Pour Railway (production):
#    - Ajouter un service Redis dans Railway
#    - Copier l'URL de connexion Redis dans REDIS_URL
#    - Définir ENVIRONMENT=production
#
# ==============================================================================
